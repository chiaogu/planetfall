<head>
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
</head>

<body style="margin:0;background:#000">
  <canvas></canvas>
  <script type="text/javascript">(function(){'use strict';function a(a,b=1){if('object'==typeof a){const c=T.rotaion*J/180;return{x:window.innerWidth/2+(a.x-T.x)*I(c)*T.zoom*b-(a.y-T.y)*H(c)*T.zoom*b,y:window.innerHeight/2+(a.x-T.x)*H(c)*T.zoom*b+(a.y-T.y)*I(c)*T.zoom*b}}return a*T.zoom*b}function b(a,b){const c=a.x-b.x,d=a.y-b.y;let e=360*Math.atan(d/c)/(2*J)-90;return e+=0>c?180:0>d?360:360,e}function c(a){return a*J/180}function d(a){return G(a.x-T.x,a.y-T.y)-a.radius-V.height/2}function e(a,c,d){const e=(c-90)*J/180,f={x:a.x+a.radius*I(e),y:a.y+a.radius*H(e)};if(!d)return f;const{x:g,y:h}=d,i=G(g,h),j=b({x:0,y:0},{x:g,y:h})+c-90,k=j*J/180;return{x:f.x+i*I(k),y:f.y+i*H(k)}}function f(a,b){let c;if('string'==typeof a)c=a;else{const[d,e,f,g,h]=a,{x:i,y:j}=b(d,e),{x:k,y:l}=b(f,g);c=[i,j,k,l,h]}return c}function g(){return(W[38]||W[40])&&0<T.fuel&&(!T.planet||10<d(T.planet))}function h(a,b,c){i(a,c.map(({color:a,paths:c,shadow:d})=>({shadow:d,color:f(a,b),paths:c.map(([a,c])=>b(a,c))})))}function i(a,b){return b.map(b=>{b.shadow&&(a.shadowColor=b.shadow[0],a.shadowBlur=b.shadow[1]),a.beginPath(),b.paths.map(({x:b,y:c},d)=>{0===d?a.moveTo(b,c):a.lineTo(b,c)}),a.fillStyle='string'==typeof b.color?b.color:j(a,...b.color),a.closePath(),a.fill(),a.shadowBlur=0})}function j(a,b,c,d,e,f){const g=a.createLinearGradient(b,c,d,e);return f.map(a=>g.addColorStop(...a)),g}function k(a){return`rgba(255,255,255,${a})`}function l(){if(T.planet){const a=T.planet.objects.find(a=>a[1]===K),b=e(T.planet,a[0]),c=G(T.x-b.x,T.y-b.y);return 20>c}return!1}function m({touches:a}){if(a&&0!==a.length){const[{clientX:b,clientY:c}]=a,d=window.innerWidth,e=window.innerHeight,f=d/3;return b<f&&c>e-f?37:b>f&&b<2*f&&c>e-f?40:b>f&&b<2*f&&c>e-2*f&&c<e-f?38:b>2*f&&c>e-f?39:32}}function n(){const a=T.planet,f=b(a,T),g=c(f),h=c(T.rotaion),i=d(a),j=1-i/a.radius;0>=i?(T.isJumping=!1,T.x-=T.vx,T.y-=T.vy,T.vx=0,T.vy=0,p(.3)):(T.vx-=a.gravity*j*j*H(g),T.vy+=a.gravity*j*j*I(g)),T.zoom=1+4*j*j*j;let k=360-f-T.rotaion;if(0>k&&(k+=360),10<k&&180>k?(T.rotaion+=10*j*j,T.rotaion%=360):180<=k&&350>=k?(T.rotaion-=10*j*j,T.rotaion%=360):(T.vr=0,T.rotaion=360-f),10>k||350<k){const b=.075+.4*((2e3-a.radius)/2e3);if(W[37])if(0>=i){const{x:c,y:d}=e(a,f-b,{x:0,y:-V.height/2});T.x=c,T.y=d}else T.vx-=.05*I(g),T.vy-=.05*H(g);if(W[39])if(0>=i){const{x:c,y:d}=e(a,f+b,{x:0,y:-V.height/2});T.x=c,T.y=d}else T.vx+=.05*I(g),T.vy+=.05*H(g)}else W[37]&&(T.vr+=A),W[39]&&(T.vr-=A),T.rotaion+=T.vr;W[38]&&(T.isJumping?10<i&&0<T.fuel&&(T.vx-=.05*H(h),T.vy-=.05*I(h),p(-.1)):(T.isJumping=!0,T.vx+=1*H(g),T.vy-=1*I(g))),W[40]&&10<i&&0<T.fuel&&(T.vx+=.05*H(h),T.vy+=.05*I(h),p(-.1))}function o(){const a=T.rotaion*J/180;W[37]&&(T.vr+=A),W[39]&&(T.vr-=A),W[38]&&0<T.fuel&&(T.vx-=$*H(a),T.vy-=$*I(a),p(-.1)),W[40]&&0<T.fuel&&(T.vx+=$*H(a),T.vy+=$*I(a),p(-.1)),T.rotaion+=T.vr,T.rotaion%=360,T.rotaion+=0>T.rotaion?360:0}function p(a){T.fuel+=a,T.fuel=E(F(T.fuel,0),100)}function q(c){let e,f=Number.MAX_VALUE;U.map(b=>{const g=d(b);if(g<b.radius&&g<f&&(e=b,f=g),u(b)){const{x:d,y:e}=a(b),f=a(b.radius);c.fillStyle=b.color.land,c.beginPath(),c.arc(d,e,f,0,2*J),c.fill()}}),e&&e!==T.planet&&(T.landingAzimuth=b(e,T)),T.planet=e}function r(b){U.map(c=>{const{x:d,y:e}=a(c),f=a(c.radius);b.lineWidth=.3,b.strokeStyle='#fff',b.beginPath(),b.arc(d,e,2*f,0,2*J),b.stroke();const g=b.createRadialGradient(d,e,f,d,e,2*f);c.color.atmosphere.map(a=>g.addColorStop(a[0],a[1])),g.addColorStop(1,'rgba(0,0,0,0)'),b.fillStyle=g,b.fill()})}function s(b){U.map(c=>{c.objects&&u(c)&&c.objects.map(([d,f,g])=>ra(f)(b,(b,f)=>a(e(c,d,{x:b,y:f})),g))})}function t(c){U.map(d=>{if(d.bgs&&u(d)){let f=b(d,T)-T.landingAzimuth;0>f&&(f+=360),180<f&&(f-=360),f=f||0,d.bgs.map(([b,g,h,i=1,j=0,...k])=>Array(D(360/b)).fill().map((l,m)=>{const n=(m*b+g)%360,{x:o,y:p}=e(d,n+f*j),q=ra(h);q&&a(G(o-T.x,p-T.y))<G(window.innerWidth,window.innerHeight)&&q(c,(b,c)=>{const g=e(d,n+f*j,{x:b*i,y:c*i});return a(g)},[n,i,k])}))}})}function u(b){const c=d(b);return Z.code!==L&&a(c)<G(window.innerWidth,window.innerHeight)}function v(b,c){const{x:d,y:e}=a(c.send?T:c),f=a(c.r),g=b.createRadialGradient(d,e,.5*f,d,e,f);g.addColorStop(0,k(0)),g.addColorStop(1,k(.3)),b.fillStyle=g,b.beginPath(),b.arc(d,e,f,0,2*J),b.fill()}function w(a){Z.reason===M&&(T.vx=0,T.vy=0,T.vr=0,!Ma&&(Ma=!0,Na=1),Na-=.005,0<=Na&&(a.fillStyle=`rgba(255,255,255,${Na})`,a.fillRect(0,0,window.innerWidth,window.innerHeight))),a.shadowColor='#fff',a.shadowBlur=20,a.textAlign='center',a.fillStyle='#fff',a.font=`24px ${O}`;let b;Z.reason===M?b='You must land carefully':Z.reason===N&&(b='Running out of fuel'),a.fillText(b,window.innerWidth/2,window.innerHeight/6),a.font=`24px ${O}`,a.fillText(`[R] Restart`,window.innerWidth/2,window.innerHeight/6+112),a.shadowBlur=0,a.textAlign='left'}function x(a){!Ha&&(W[37]||W[39])?Ha=!0:Ha&&!Ia&&W[38]?Ia=!0:Ia&&!Ja&&g()?Ja=!0:Ja&&!Ka&&W[32]?Ka=!0:!La&&l()&&W[32]&&(La=!0);let b;if(!Ha)b='[\u2190][\u2192] Move';else if(!Ia)b='[\u2191] Jump';else if(!Ja)b='[Hold \u2191] Liftoff';else if(!Ka)b='[Space] Emit Radar Wave';else if(!La&&l())b='[Space] Take Satellite Station Offline';else return;a.shadowColor='#fff',a.shadowBlur=20,a.textAlign='center',a.fillStyle='#fff',a.font=`24px ${O}`,a.fillText(b,window.innerWidth/2,.84*window.innerHeight),a.shadowBlur=0,a.textAlign='left'}function y(a){T.vx=0,T.vy=0,T.vr=0,T.zoom=15,a.fillStyle='#000',a.fillRect(0,0,window.innerWidth,window.innerHeight),a.shadowColor='#fff',a.shadowBlur=20,a.textAlign='center',a.fillStyle='#fff',a.font=`72px ${O}`,a.fillText('P L A N E T F A L L',window.innerWidth/2,.167*window.innerHeight),a.font=`24px ${O}`,a.fillText('[Space] Start',window.innerWidth/2,.84*window.innerHeight),a.font=`16px ${O}`,a.fillText(Ga,window.innerWidth/2,.74*window.innerHeight),a.shadowBlur=0}function z(a){a.shadowColor='#fff',a.shadowBlur=20,a.textAlign='center',a.fillStyle='#fff',a.font=`24px ${O}`;const b=Z.endTime-Z.startTime;a.fillText(`You saved the entire system in`,window.innerWidth/2,window.innerHeight/6),a.font=`48px ${O}`;const c=[b/36e5,b%36e5/6e4,b%36e5%6e4/1e3].map(a=>a.toFixed().padStart(2,'0')).join(':');a.fillText(c,window.innerWidth/2,window.innerHeight/6+64),a.font=`24px ${O}`,a.fillText(`[R] Restart`,window.innerWidth/2,window.innerHeight/6+112),a.shadowBlur=0,a.textAlign='left'}function B(a,b=2,c){var d=Math.pow;const e=Pa.sampleRate,f=e*a,g=Pa.createBuffer(2,f,e),h=g.getChannelData(0),j=g.getChannelData(1);for(let e=0;e<f;e++){const a=c?f-e:e;h[e]=(2*Math.random()-1)*d(1-a/f,b),j[e]=(2*Math.random()-1)*d(1-a/f,b)}return g}function C(){$a.width=window.innerWidth,$a.height=window.innerHeight,_(),ba(),Za(),Ca(_a),r(_a),t(_a),s(_a),q(_a),Oa(_a),Fa(_a),Da(_a),Aa(_a),requestAnimationFrame(C)}var D=Math.round,E=Math.min,F=Math.max,G=Math.hypot,H=Math.sin,I=Math.cos,J=Math.PI;const K=0,L=0,M=0,N=1,O='Courier New',P=['#555','#555','#666','#666'],Q=['#666','#444','#555'],R=['#4F4874','#FE8265','#AE5B72','#905778'],S=['#fff','#fff','#D3DEE6','#B7C9D5'],T={x:0,y:0,vx:0,vy:0,vr:0,zoom:1,rotaion:0,isJumping:!1,fuel:100,planet:void 0},U=[{name:'Aolea',x:0,y:2020,radius:2e3,gravity:.05,color:{land:'#091A1E',atmosphere:[[0,'#4F3C6A'],[.1,'#0E2A48']]},objects:[[30,0,!1]],bgs:[[2,0,1,1.75,.7],[6,3,5,2.75,.6],[3,2,1,2.25,.5],[6,3,5,3.25,.3]]},{name:'Catlax',x:-600,y:-1900,radius:200,gravity:.05,color:{land:'#555',atmosphere:[[0,'rgba(255,255,255,0.3)']]},objects:[[200,0,!1]],bgs:[[40,3,2,.1,0,...P],[40,10,2,.1,0,...P],[120,0,3,1,0,...Q],[80,10,3,.5,0,...Q]]},{name:'Kapbula',x:0,y:-12010,radius:2e3,gravity:.035,color:{land:'#2E284B',atmosphere:[[0,'#FF9577'],[.03,'#FF6D5B'],[.2,'#50456E']]},objects:[[90,0,!1]],bgs:[[15,0,2,1,.9,...R],[5,13,2,.5,.85,...R],[7.5,7,2,.7,.8,...R],[5,4,2,.4,.75,...R]]},{name:'Nadium',x:12010,y:0,radius:2e3,gravity:.03,color:{land:'#112408',atmosphere:[[0,'#29573A'],[.05,'#C4D6A5'],[.1,'#BBC87A']]},objects:[[0,0,!1]],bgs:[[3,4,4,2,.5],[2,0,4,3,.35],[3,4,4,2.5,.3]]},{name:'Eskiri',x:12010,y:10010,radius:1e3,gravity:.05,color:{land:'#E9EEF2',atmosphere:[[0,'#EAEFF2'],[.1,'#8CA9BF'],[.24,'#4A5E7A']]},objects:[[0,0,!1]],bgs:[[20,0,2,.5,.9,...S],[20,10,3,1,.85,...['#F9FBFB','#B7C9D5','#D3DEE6']],[20,10,2,.3,.8,...S]]}],V={width:5,height:1.618*5},W={},X={savedPlanets:{}},Y=[],Z={code:0},$=.1,A=.03;var _=()=>{T.planet&&(Z.code!==3||Z.reason===1)?n():o(),T.x+=T.vx,T.y+=T.vy};let aa=!1;var ba=()=>{const a=T.planet;if(W[32]&&a){if(aa)return;aa=!0;const b=a.objects.find(a=>a[1]===K),c=e(a,b[0]),d=G(T.x-c.x,T.y-c.y);20>d&&(X.savedPlanets[a.name]=!0,b[2]=!0)}else aa=!1};const ca=[{color:'#fff',paths:[[7.2,-49.4],[4.8,-47],[-15.6,-21.8],[-17,-16.4],[-11.6,-14.8],[0,-19.2],[1,-16.4],[3,-15.6],[2.8,-14.4],[-3,-8.2],[-3.4,9.4],[15.6,10.6],[15.2,-7.4],[10.2,-14],[10.2,-16],[13.2,-15.8],[16.6,-18.6],[18.4,-25.6],[13.2,-29],[12,-32.8],[9.6,-34.4],[12.2,-43.4],[11.6,-46.8],[8.6,-50]]},{color:'#eee',paths:[[8.5,-50],[9,-44.2],[7.4,-38],[3,-30.6],[-1.2,-25.6],[-6.8,-20.6],[-11.6,-17.4],[-16.8,-16.2],[-17,-16.4],[-14.6,-15.4],[-11.4,-14.8],[-9.6,-15.4],[-7.2,-16.4],[-.2,-19],[4.8,-20.6],[8.4,-26],[11.6,-32.4],[10.4,-34.2],[9.8,-35.6],[10.6,-37.8],[12.2,-44.2],[11.5,-46.8],[10.2,-48.6],[10.2,-49]]},{color:'#eee',paths:[[-10.8,-22.2],[-9.8,-36.8],[7.6,-40],[7.6,-39.2],[-7.4,-36.2],[-7.8,-34.8],[-1.2,-26.2],[-2,-25.4],[-8.4,-34],[-9.4,-34],[-10.2,-22.2]]}];let da=20,ea=1;var fa=(b,c,d)=>{h(b,c,ca);const{x:e,y:f}=c(-9.8,-36.8),g=a(da*(d?.8:1)),i=b.createRadialGradient(e,f,0,e,f,g),j=d?[254,0,24]:[19,167,76];i.addColorStop(0,'#fff'),i.addColorStop(.3,`rgba(${j[0]}, ${j[1]}, ${j[2]}, 0.5)`),i.addColorStop(1,`rgba(${j[0]}, ${j[1]}, ${j[2]}, 0)`),b.fillStyle=i,b.beginPath(),b.arc(e,f,a(20),0,2*J),b.fill(),da+=.01*ea,15>=da&&(ea=1),20<=da&&(ea=-1)};const ga=[[-19.2,10.6],[-19.2,.8],[-18.6,.4],[-18.6,-1.8],[-19.2,-1.8],[-19.2,-5.2],[-18.6,-5.2],[-18.6,-15.2],[-19.2,-15.4],[-19.2,-20],[-18.6,-20.2],[-18.6,-30.6],[-17,-32.6],[-15.6,-32.6],[-15.6,-34.6],[-13.8,-34.6],[-13.4,-32.4],[-10,-32],[-7.2,-30.4],[-7.2,.4],[-6.6,.8],[-7,11],[-5.2,11],[-5.4,-.4],[-4.4,-.2],[-1.2,-2.4],[-1,-37.2],[-2.4,-39],[-2.4,-53],[-1.4,-53],[-1.2,-54.2],[-1.8,-54.2],[-1.8,-56],[1,-56],[.8,-59],[3,-61],[5,-61],[5,-63.4],[6.6,-63.4],[6.6,-60.6],[7.8,-60.8],[7.8,-62],[8.4,-62],[8.4,-60.6],[10.8,-60.6],[10.8,-56],[12,-55],[12,-53],[14.2,-53],[14.2,-51.2],[16.6,-51.2],[16.6,-43],[15.2,-43],[15.2,-43.4],[14.6,-43.4],[14.2,-34],[12.4,-32],[12.4,-27.8],[13.8,-26.2],[14,-14.4],[19.2,-14.4],[19.2,-13.2],[18.6,-13.2],[18.6,-9.4],[17.8,-9.6],[17.6,-7.4],[20.2,-7.4],[20.2,-4.8],[19.6,-4.8],[17.4,-1.4],[17.4,5.6],[17,10.4],[18,10.4],[17.4,6.4],[16.8,10.6]],ha=[[11.6,5.2],[11.6,2.2],[12.2,2],[12.2,-.2],[11.6,-.2],[11.6,-2.4],[10,-4.2],[10.2,-18.6],[10.8,-19],[11,-26.2],[10.2,-26.2],[10.4,-41.6],[7.8,-44.4],[7.8,-45.2],[8.8,-45.2],[8.8,-44.4],[10.6,-44.8],[10.6,-54.2],[9,-54.2],[8.8,-53.6],[8,-53.6],[8,-54.4],[9,-55.4],[9.2,-64.6],[8.4,-65.2],[0,-65.4],[-.2,-61],[-.8,-61.4],[-1,-55.6],[-2.8,-55.4],[-6.2,-51.6],[-6,-40.4],[-6,-41.2],[-7.2,-40.4],[-7.6,-32.4],[-6.6,-31],[-5.6,-17.2],[-8.4,-16.2],[-8,-.2],[-8.6,-.2],[-8.6,-5.8],[-9.8,-5.4],[-10,-.2],[-10.2,-.2],[-11.2,-2.4],[-11.2,8.4],[11.8,9.2]];let ia=0;var ja=a=>(b,c,[d,e])=>{ia=(ia+1)%100,h(b,c,[{color:[0,-65,1,10,[[0,`#091A1E`],[.8,`rgb(10,35,71)`],[1,`rgb(101,121,101)`]]],paths:0===a?ga:ha},...(0===a?[...[,,,].fill().map((a,b)=>({color:'#fff',shadow:['#5f0',10],paths:[[.8*b,-50],[.2+.8*b,-50],[.2+.8*b,-45],[.8*b,-45]]})),...[,,,].fill().map((a,b)=>({color:'#fff',shadow:['#f05',10],paths:1===b&&0!=ia%30||1!==b?[[-19.8,-20+2.4*b],[-21.8,-20+2.4*b],[-21.8,-22+2.4*b],[-19.8,-22+2.4*b]]:[]})),{color:'#fff',shadow:['#0ff',10],paths:0==ia%30?[]:[[14.5,-53],[16.5,-53],[16.5,-43],[14.5,-43]]}]:[{color:'#fff',shadow:['#0ff',10],paths:[[2.4,-35],[2.9,-35],[2.9,-10],[2.4,-10]]}])])};var ka=(a,b,[c,d,e])=>{h(a,b,[{color:[0,1,-240,1,[[0,e[0]],[1,e[3]]]],paths:[[-240,20],[0,-80],[240,20]]},{color:[0,-80,120,1,[[0,e[1]],[.25,e[2]],[1,e[3]]]],paths:[[30,20],[-30,-48],[480/128,-64],[-480/64,-72],[0,-80-.1],[240,20-.1]]}])};const la=[[-39.2,5.4],[-38,-3.4],[-37.2,-3.8],[-37,-5.2],[-36.2,-5.2],[-35.6,-5.6],[-35.2,-5.2],[-32.4,-7],[-32,-6.6],[-29,-14.6],[-25.4,-18.4],[-24.8,-23.4],[-24,-25.6],[-22.6,-24.6],[-21.8,-25],[-20.8,-12.8],[-20.2,-13.8],[-19.2,-10.6],[-18.2,-12.6],[-16.6,-13.6],[-13,-5.6],[-10.8,5.4],[-9.6,5],[-4.2,-7],[-2.8,-8.4],[.6,-15],[1.8,-14.8],[2.6,-17.4],[4,-19.2],[4.2,-21.4],[6.8,-22.6],[7.2,-17.8],[8,-16.8],[9.6,-20.2],[9.6,-22.2],[11.4,-23.6],[13,-21.6],[14.2,-16],[15.8,-15],[17.8,-19.2],[19.4,-21.6],[19,-23.2],[23.2,-29.2],[25.6,-30.2],[29,-27.6],[32.8,-22],[35.8,-14.4],[37.2,-15],[39,-14],[39.8,-11.2],[41.2,5.2]],ma=[[-21.2,-22.8],[-22,-11.6],[-21.4,-12.4],[-21.4,-9.8],[-22.2,-8.4],[-20.4,-7.2],[-20.8,-3.2],[-21.6,-1.4],[-21.4,0],[-19.6,-2.6],[-17.6,5.2],[-15.4,5.2],[-15.4,-8.6],[-16.8,-8],[-18.2,-10],[-18.6,-9.4],[-19.8,-11]],na=[[6.6,-21.8],[6,-17.2],[5.4,-17.2],[4.4,-18.6],[4,-14.8],[4.8,-13],[2.8,-11.2],[4,-.8],[3.8,1.8],[3.2,5],[39.4,5.6],[37.6,1.2],[35.4,-3.8],[36,-14.4],[32.6,-21.8],[33.4,-10.8],[34.2,-2.8],[35.6,1.6],[36,5.6],[26,5.2],[26,3.4],[27.6,-.4],[26,.8],[25.6,-2.6],[24.8,-9.4],[26.4,-21],[23.6,-29.4],[24.4,-23.6],[22.2,-15.4],[23.4,-8],[23.4,-3.2],[23.4,2.4],[22.8,4.8],[19,5.2],[19.4,-4.4],[18.4,-3.4],[18.4,-8.6],[16,-10.8],[16,-15.2],[13.6,-17],[11.8,-23],[12.4,-15.8],[12.4,-12.8],[13.4,-10.4],[14,.4],[14.4,4.6],[9,4.8],[8.4,-11.2],[7,-5.6],[7.4,2.6],[7.4,2.2],[7,4.6],[5.4,5],[4.2,3],[4.6,-2],[6.4,-6.6],[7.8,-15]];var oa=(a,b,[c,d,e])=>{h(a,b,[{color:e[0],paths:la},{color:[0,-30,0,10,[[0,e[1]],[1,e[2]]]],paths:ma},{color:[0,-30,0,10,[[0,e[1],[1,e[2]]]]],paths:na}])};const pa=[[-3.2,5.4],[-1.6,-12],[-1.8,-25.4],[-1.8,-33.2],[-7.6,-39.4],[-10.6,-40.8],[-12.2,-40.8],[-12.4,-41.8],[-14,-42.8],[-15.4,-41.8],[-16.4,-43.4],[-15.4,-45.6],[-12.2,-44.6],[-12,-46],[-10.2,-46],[-9.2,-45.2],[-6.8,-46.2],[-5.8,-44.2],[-2.8,-41.8],[-2.8,-41],[-5.6,-41.4],[-5.6,-40.4],[-7.4,-41],[-4.6,-38],[-.8,-35],[-1.8,-38.8],[-1,-40.6],[-1.8,-44.2],[-3,-43.4],[-4.6,-45.8],[-4.4,-46.6],[-7.2,-47],[-7.8,-48],[-7.4,-49],[-12,-50.4],[-16,-49.6],[-19.6,-50.8],[-22.2,-50.4],[-22.6,-53.4],[-22,-56.8],[-22.4,-58.4],[-18.6,-56.8],[-18,-58.6],[-13.2,-60.2],[-9.8,-59.4],[-9.4,-60.2],[-14.6,-62.4],[-14.8,-62.8],[-13.4,-65.2],[-11.4,-65.2],[-8.8,-64.2],[-6.4,-65.2],[-6.4,-65.6],[-3.2,-66.2],[-1.2,-65.2],[-.4,-67],[1,-66.2],[3.2,-66.8],[10.6,-63.6],[10.6,-61.4],[13.2,-61.6],[14.8,-60.6],[16.8,-60.4],[16.4,-59.4],[20.6,-56.8],[20.8,-55.2],[15,-54.6],[9,-55.8],[12,-53.6],[17,-54],[19.6,-53.2],[19.6,-51.6],[17.8,-50.8],[20.4,-50.2],[22,-51],[23.6,-47.6],[21,-46.2],[21.6,-44.8],[20.2,-43.6],[18.8,-45.2],[16.4,-44.6],[12.8,-45.6],[7.6,-47.8],[4.2,-49.4],[4.2,-51.2],[1,-49.6],[.8,-48.4],[3.2,-48.6],[6.8,-46.8],[11.4,-44],[5.2,-43],[5.6,-41.6],[4.4,-41.8],[3.8,-43.8],[1.4,-44],[1.8,-40.8],[1,-36.8],[.8,-27.8],[1.2,-11.2],[1,4.6],[1.2,6.4]];var qa=(a,b,[c,d])=>{h(a,b,[{color:[0,-70,0,10,[[0,'#B5C054'],[.2,'#1E8152'],[.5,'#112408']]],paths:pa}])},ra=a=>0===a?fa:1===a?ja(0):2===a?ka:3===a?oa:4===a?qa:5===a?ja(1):void 0;const sa=[[-9.6,-72.6],[-3.6,-75.4],[-3.6,-82.8],[-3,-84],[-2.2,-84.4],[-.6,-84.8],[.8,-84.6],[2,-83.2],[2.4,-82],[3.2,-75.2],[6.6,-73.6],[7.4,-40.6],[11,-21.4],[14.2,2.6],[12.6,3.2],[7.6,-16.8],[2,-33.4],[-1.4,-18],[-5,2.8],[-7,2.8],[-6,-12],[-5,-17],[-6.2,-37.4],[-10.6,-72.2]],ta=[[-9.6,-72.6],[-3.6,-75.4],[-3.6,-82.8],[-3,-84],[-2.2,-84.4],[-.6,-84.8],[.8,-84.6],[2,-83.2],[2.4,-82],[3.2,-75.2],[6.6,-73.6],[7.4,-40.6],[6,-21.4],[4.2,2.6],[2.6,3.2],[2.6,-16.8],[-6.2,-37.4],[-10.6,-72.2]],ua=[[-14.8,-71],[-9.8,-72],[-4.8,-69.2],[-11.2,-49],[-5.2,-32.2],[-9.2,-30.8],[-16,-44.6]],va=[[2.2,-72.8],[7.4,-73.4],[11,-70.4],[10.8,-47.6],[17.8,-35.6],[13.4,-32.8],[5.4,-48.2]],wa=[[-1.4,-81.2],[1.6,-81],[1.6,-82.2],[-1.6,-82.2]],xa=[[-6.2,-37.8],[-4,-15],[-4,3.2],[-2,3.2],[0,-15],[3,-37.8]];let ya=0,za=!0;var Aa=c=>{const e=T.planet,f=a(V.width),h=a(V.height);let i=window.innerWidth/2-f/2,j=window.innerHeight/2-h/2;if(ya=(ya+1)%100,g()){c.shadowColor='#fff',c.shadowBlur=20;const b=a(.8);i+=Math.random()*b-b/2,j+=Math.random()*b-b/2;const g=0==ya%2?.75*f:f;let l=0==ya%2?4*h:2*h;const m=c.createLinearGradient(i,W[38]?j:j,i,W[38]?j+l:j-l);m.addColorStop(0,'#fff'),m.addColorStop(1,k(0)),c.fillStyle=m,c.fillRect(i+f/2-g/2,W[38]?j:j-l,g,e?W[38]?E(l,a(d(e))+h):l:l),c.shadowBlur=0}if((W[37]||W[39])&&0==ya%3){const a=!e||e&&T.isJumping&&20<d(e),g=e?b(e,T):0;let l=360-g-T.rotaion;if(0>l&&(l+=360),a){const a=2*f,b=.25*f,d=c.createLinearGradient(W[39]?i:i+f,j,W[39]?i-a:i+f+a,j);d.addColorStop(0,'#fff'),d.addColorStop(1,k(0)),c.fillStyle=d;const g=[W[39]?i-a:i+f,e&&(10>=l||350<=l)?j-2*b:j-4*b,a,b];if(c.fillRect(...g),c.fillRect(...g),!e||10<l&&350>l){const d=c.createLinearGradient(W[37]?i:i+f,j,W[37]?i-a:i+f+a,j);d.addColorStop(0,'#fff'),d.addColorStop(1,k(0)),c.fillStyle=d;const e=[W[37]?i-a:i+f,j+h-b,a,b];c.fillRect(...e),c.fillRect(...e)}}}3!==Z.code&&(W[37]?za=!1:W[39]&&(za=!0));const l=13<=ya%25&&(W[39]||W[37])&&3!==Z.code,m=[va,...(l?[xa]:[]),l?ta:sa,ua,wa];m.map((b,d)=>{d===(l?4:3)?(c.shadowColor='#000',c.fillStyle='#555',c.shadowBlur=20):(c.shadowColor='#555',c.fillStyle='#fff',c.shadowBlur=10),c.beginPath(),b.map(([b,d],e)=>{const g=[.18*a(.9+(b-.9)*(za?1:-1))+i+f/2,.18*a(d)+j+h];0===e?c.moveTo(...g):c.lineTo(...g)}),c.fill()})};const Ba=Array(500).fill().map(()=>({x:15e3*Math.random()-7500,y:15e3*Math.random()-7500,radius:.1*Math.random()}));var Ca=b=>{Ba.forEach(c=>{b.fillStyle='#fff',7500<G(c.x-T.x,c.y-T.y)&&(c.x=15e3*Math.random()-7500+T.x,c.y=15e3*Math.random()-7500+T.y);const{x:d,y:e}=a(c,c.radius+.1);b.fillRect(d,e,1+c.radius/.1,1+c.radius/.1)})},Da=a=>{if(0===Z.code)return;const e=[['velocity',(10*G(T.vx,T.vy)).toFixed(),200],['fuel',D(T.fuel),100]];let f=g()?[3*Math.random()-3/2,3*Math.random()-3/2]:[0,0],h=f[0]+32,i=f[1]+window.innerHeight-140;if(a.shadowColor='#fff',a.shadowBlur=20,e.map(([b,c,d])=>{if(a.font=`16px ${'Courier New'}`,a.fillStyle=k(.3),a.fillText(b,h,30+i),a.font=`20px ${'Courier New'}`,a.fillStyle='#fff',a.fillText(c,h,52+i),d){const b=E(1,c/d);a.fillStyle='#fff',a.fillRect(50+h,40+i,100*b,10),a.fillStyle=k(.3),a.fillRect(50+h,40+i,100,10)}i+=48}),a.textAlign='right',a.font=`24px ${'Courier New'}`,a.fillStyle=k(.3),a.fillText(`/${U.length}`,f[0]+window.innerWidth-24,f[1]+50),a.font=`48px ${'Courier New'}`,a.fillStyle='#fff',a.fillText(Object.keys(X.savedPlanets).filter(a=>X.savedPlanets[a]).length,f[0]+window.innerWidth-52,f[1]+50),T.planet){const e=f[0]+window.innerWidth-32,g=f[1]+window.innerHeight-90,h=c(b(T.planet,T)-90);a.fillStyle=k(.3),a.beginPath(),a.arc(e-32,g,32,0,2*J),a.fill();const i=32+32*(d(T.planet)/T.planet.radius);a.fillStyle='#fff',a.beginPath(),a.arc(e-32+i*I(h),g+i*H(h),3,0,2*J),a.fill(),a.font=`20px ${'Courier New'}`,a.fillStyle='#fff',a.textAlign='right',a.fillText(T.planet.name,e,f[1]+window.innerHeight-32)}a.shadowBlur=0};let Ea=!1;var Fa=b=>{W[32]&&!l()?!Ea&&(Ea=!0,Y.push({send:!0,r:0,v:0,x:T.x,y:T.y,echo:!1})):Ea=!1;for(let c=Y.length-1;0<=c;c--){const d=Y[c];if(d.v+=5>d.v?.1:0,d.r+=d.v*d.v,v(b,d),!d.send){2<=d.r/G(T.x-d.x,T.y-d.y)&&a(d.r-G(T.x-d.x,T.y-d.y))>=G(window.innerWidth,window.innerHeight)&&Y.splice(c,1);continue}for(let a=0;a<U.length;a++){const b=U[a],{savedPlanets:c}=X;if(c[b.name])continue;const f=b.objects.find(a=>a[1]===K);if(!f)continue;const{x:g,y:h}=e(b,f[0]),i=G(T.x-g,T.y-h);if(d.r>=i&&!d.echo){d.echo=!0,Y.push({r:0,v:0,x:g,y:h});break}}d.echo&&a(d.r)>G(window.innerWidth,window.innerHeight)&&Y.splice(c,1)}};const Ga='Find the satellite station on each planet and take it offline';let Ha=!1,Ia=!1,Ja=!1,Ka=!1,La=!1,Ma=!1,Na=0;var Oa=a=>{Z.code===0?y(a):Z.code===2?z(a):Z.code===1?x(a):Z.code===3&&w(a),Z.code===0&&W[32]?(Z.startTime=Date.now(),window.audioContext.resume(),Z.code=1):Z.code===1&&Object.keys(X.savedPlanets).filter(a=>X.savedPlanets[a]).length===U.length?(Z.code=2,Z.endTime=Date.now()):(Z.code===2||Z.code===3)&&W[82]&&location.reload(),T.planet&&0>=d(T.planet)&&10<G(T.vx,T.vy)?(Z.code=3,Z.reason=0):!T.planet&&0===T.fuel&&(Z.code=3,Z.reason=1),Z.code===3&&Z.reason===1&&0<T.fuel&&(Z.code=1)};window.AudioContext=window.AudioContext||window.webkitAudioContext;const Pa=new AudioContext;// AudioContext must be resumed after the document received a user gesture to enable audio playback.
window.audioContext=Pa;const Qa=Pa.createBufferSource();Qa.buffer=function(){const a=2*Pa.sampleRate,b=Pa.createBuffer(1,a,Pa.sampleRate),c=b.getChannelData(0);for(let b=0;b<a;b++)c[b]=2*Math.random()-1;return b}(),Qa.loop=!0,Qa.start(0);const Ra=Pa.createBiquadFilter();Ra.type='lowpass',Qa.connect(Ra);const Sa=Pa.createOscillator();Sa.type='sine',Sa.start();const Ta=Pa.createConvolver();Ta.buffer=B(4,4,!1),Ta.connect(Pa.destination);const Ua=Pa.createOscillator();Ua.type='square',Ua.start();const Va=Pa.createBiquadFilter();Va.type='lowpass',Ua.connect(Va);const Wa=Pa.createConvolver();Wa.buffer=B(1,5,!1),Wa.connect(Pa.destination);let Xa=!1,Ya=0;var Za=()=>{if(T.planet){const a=d(T.planet),b=1-a/T.planet.radius;Ra.frequency.setValueAtTime(250*b+250,Pa.currentTime)}g()?Ra.connect(Pa.destination):Ra.disconnect();const a=Y.find(a=>!a.send),b=a&&a.r>G(T.x-a.x,T.y-a.y);if(W[32]?Sa.frequency.setValueAtTime(1046,Pa.currentTime):b&&Sa.frequency.setValueAtTime(440+F(0,440-440*(a.r/4e3)),Pa.currentTime),W[32]&&!l()||b){if(Xa)return;Sa.connect(Ta),Xa=!0,setTimeout(()=>Sa.disconnect(),100)}else Sa.disconnect(),Xa=!1;W[32]&&l()&&(Ya=110),10>=Ya?Va.disconnect():(Ua.frequency.setValueAtTime(Ya,Pa.currentTime),Va.frequency.setValueAtTime(2*Ya,Pa.currentTime),Ya-=1,Va.connect(Wa))};const $a=document.querySelector('canvas'),_a=$a.getContext('2d');window.addEventListener('keydown',({keyCode:a})=>W[a]=!0),window.addEventListener('keyup',({keyCode:a})=>delete W[a]),window.addEventListener('touchstart',a=>W[m(a)]=!0),window.addEventListener('touchend',()=>Object.keys(W).map(a=>delete W[a])),C()})();
</script>
</body>